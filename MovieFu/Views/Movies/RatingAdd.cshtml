@model MovieFu.Models.Rating

<script src="@Url.Content("~/Scripts/jquery-1.6.4.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm("Create", "Ratings"))
{
    @Html.ValidationSummary(true)

<div class="editor-label">
    @Html.LabelFor(model => model.Comments)
</div>
<div class="editor-field">
    @Html.TextAreaFor(model => model.Comments, 6, 80, null)
    @Html.ValidationMessageFor(model => model.Comments)
</div>
<br />

@Html.HiddenFor(model => model.Stars)
<div id="star-rating" class="rateit"></div>
@Html.ValidationMessageFor(model => model.Stars)

<div class="editor-field">
    @Html.HiddenFor(model=> model.MovieID)
</div>
        <p>
            <input type="submit" value="Create" />
        </p>

    <script src="../../Scripts/jquery-1.6.4.min.js" type="text/javascript"></script>
    <script src="../../Scripts/jquery.rateit.js" type="text/javascript"></script>
                                                                             
<script type="text/javascript">
    $(function () {
        // handles failed validation and loads the value from the hidden input with model value
        $("#star-rating").rateit('value', $("#Stars").val());

        // used to update/reset the hidden input
        $("#star-rating").bind('rated', function (event, value) { $('#Stars').val(value); });
        $("#star-rating").bind('reset', function () { $('#Stars').val(''); });
    });
</script>
}

